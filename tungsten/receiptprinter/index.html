
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../scanshop/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Receipt printer - Constellation Developer</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#receipt-printer-in-tungsten-self-checkouts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Constellation Developer" class="md-header__button md-logo" aria-label="Constellation Developer" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Constellation Developer
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Receipt printer
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Constellation Developer" class="md-nav__button md-logo" aria-label="Constellation Developer" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Constellation Developer
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homepage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tungsten
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tungsten
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scanshop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scan&Shop
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Receipt printer
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Receipt printer
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purposes-of-receipt-printer" class="md-nav__link">
    <span class="md-ellipsis">
      Purposes of receipt printer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-receipt-printer-code" class="md-nav__link">
    <span class="md-ellipsis">
      Example receipt printer code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example receipt printer code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explanation" class="md-nav__link">
    <span class="md-ellipsis">
      Explanation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling-system-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling &amp; System Behavior
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-intervention-with-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Sending intervention with instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sending intervention with instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detailed-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Detailed instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Detailed instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detailed-response-breakdown" class="md-nav__link">
    <span class="md-ellipsis">
      Detailed response breakdown
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generalized-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Generalized instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generalized instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generalized-response-breakdown" class="md-nav__link">
    <span class="md-ellipsis">
      Generalized response breakdown
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purposes-of-receipt-printer" class="md-nav__link">
    <span class="md-ellipsis">
      Purposes of receipt printer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-receipt-printer-code" class="md-nav__link">
    <span class="md-ellipsis">
      Example receipt printer code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example receipt printer code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explanation" class="md-nav__link">
    <span class="md-ellipsis">
      Explanation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling-system-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling &amp; System Behavior
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-intervention-with-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Sending intervention with instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sending intervention with instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detailed-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Detailed instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Detailed instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detailed-response-breakdown" class="md-nav__link">
    <span class="md-ellipsis">
      Detailed response breakdown
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generalized-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Generalized instructions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generalized instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generalized-response-breakdown" class="md-nav__link">
    <span class="md-ellipsis">
      Generalized response breakdown
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="receipt-printer-in-tungsten-self-checkouts">Receipt Printer in Tungsten Self-Checkouts</h1>
<p>Receipt printer support in tungsten allows easy printing with error handling through the Built-in Printer API.</p>
<h2 id="purposes-of-receipt-printer">Purposes of receipt printer</h2>
<ul>
<li>Saving and keeping track of the transaction data</li>
<li>Printing receipts, reports and staff log-in barcodes</li>
<li>Handle error reporting: Detect and report printer errors (e.g., paper jams or low paper)</li>
</ul>
<h2 id="example-receipt-printer-code">Example receipt printer code</h2>
<pre><code class="language-lua">local status = {
    paper = &quot;ok&quot; -- ok, warning, fault
}

script.Parent.Parent.InternalCommunication.OnInvoke = function(device, request, data)
    if device == &quot;ReceiptPrinter&quot; then
        if request == &quot;GetStatus&quot; then
            return {[&quot;success&quot;] = true, [&quot;error&quot;] = &quot;&quot;, [&quot;requires_intervention&quot;] = false, [&quot;response&quot;] = status}
        elseif request == &quot;PrintDocument&quot; then
            --[[
                in this case, data is an array of rows to print
                e.g.:
                {
                    {[&quot;l&quot;] = &quot;&quot;, [&quot;c&quot;] = &quot;Store&quot;, [&quot;r&quot;] = &quot;&quot;, isSeparator = false, lineSize = 14},
                    {[&quot;l&quot;] = &quot;&quot;, [&quot;c&quot;] = &quot;St. Street 1&quot;, [&quot;r&quot;] = &quot;&quot;, isSeparator = false, lineSize = 14},
                    {[&quot;l&quot;] = &quot;&quot;, [&quot;c&quot;] = &quot;Receipt&quot;, [&quot;r&quot;] = &quot;&quot;, isSeparator = false, lineSize = 20},
                    {[&quot;l&quot;] = &quot;&quot;, [&quot;c&quot;] = &quot;&quot;, [&quot;r&quot;] = &quot;&quot;, isSeparator = true, lineSize = 14},
                    {[&quot;l&quot;] = &quot;Apple 1 x 0.59&quot;, [&quot;c&quot;] = &quot;&quot;, [&quot;r&quot;] = &quot;0.59&quot;, isSeparator = false, lineSize = 14},
                    ...
                }
            ]]

            if status.paper == &quot;fault&quot; then
               return {
                    [&quot;success&quot;] = false, 
                    [&quot;error&quot;] = &quot;Receipt empty&quot;,
                    [&quot;requires_intervention&quot;] = true,
                    [&quot;response&quot;] = {
                        [&quot;generalized_instructions_data&quot;] = {
                            [&quot;error_description&quot;] = `Receipt empty. Open printer, replace paper roll and press &quot;continue&quot;.`,
                            [&quot;status_value&quot;] = {&quot;paper&quot;, &quot;open_cover&quot;},
                            [&quot;expected_value&quot;] = {[&quot;paper&quot;] = {&quot;ok&quot;, &quot;warning&quot;}, [&quot;open_cover&quot;] = {&quot;ok&quot;}}
                        }
                    }
                }
                -- If requires_intervention is true, the checkout will keep checking the status  
                -- until the issue is resolved (status changes to &quot;ok&quot; or &quot;warning&quot;).
            end

            return {[&quot;success&quot;] = true, [&quot;error&quot;] = &quot;&quot;, [&quot;requires_intervention&quot;] = false, [&quot;response&quot;] = {}}
        end
        return {
            [&quot;success&quot;] = false, 
            [&quot;error&quot;] = &quot;unknown request&quot;,
            [&quot;requires_intervention&quot;] = false,
            [&quot;response&quot;] = {}
        }
    end
end

</code></pre>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The checkout will remain in intervention mode until the printer reports "ok" or "warning" for each value.<br />
Responding with any other status will prevent the system from proceeding.
Additionally, when requesting printer status, if <strong>any field</strong> in the returned status table<br />
has a value of "fault" or an unrecognized value (i.e., not "ok" or "warning"),<br />
the system will require an intervention, even if <code>requiresIntervention</code> is set to false</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If any field in the status table has the value "warning", the trilight on the device will flash green, indicating a device warning state. Additionally, the checkout status in RAP will show "Low media".  </p>
</div>
<h3 id="explanation">Explanation</h3>
<ol>
<li>
<p><strong>Printer status handling</strong></p>
<ul>
<li>
<p>The <code>status</code> table keeps track of various printer states (e.g., <code>paper</code>, <code>toner</code>, <code>cover</code>).</p>
</li>
<li>
<p>Each <code>status</code> field can have values such as <code>ok</code>, <code>warning</code>, or <code>fault</code>.</p>
</li>
<li>
<p>The <code>GetStatus</code> request returns the current printer status.</p>
</li>
<li>
<p>If any status field is <code>fault</code>, the checkout system enters intervention mode until the issue is resolved.</p>
</li>
</ul>
</li>
<li>
<p><strong>Printing Documents</strong></p>
<ul>
<li>
<p>The <code>PrintDocument</code> request processes an array of receipt lines.</p>
</li>
<li>
<p>Each line object contains:</p>
<ul>
<li>
<p><code>l</code>: Left-aligned text</p>
</li>
<li>
<p><code>c</code>: Center-aligned text</p>
</li>
<li>
<p><code>r</code>: Right-aligned text</p>
</li>
</ul>
</li>
<li>
<p><code>isSeparator</code>: Boolean indicating whether the line is a separator</p>
</li>
<li>
<p><code>lineSize</code>: Font size of the line</p>
</li>
<li>
<p>If any field in status is <code>fault</code>, an error response is returned requiring intervention.</p>
</li>
</ul>
</li>
</ol>
<h2 id="error-handling-system-behavior">Error Handling &amp; System Behavior</h2>
<ul>
<li>
<p>The system remains in intervention mode if any printer status field is <code>fault</code>.</p>
</li>
<li>
<p>Status fields may include <code>paper</code>, <code>toner</code>, etc.</p>
</li>
<li>
<p>If any field in the status table contains <code>warning</code>, the device’s trilight will flash green, signaling a media warning state.</p>
</li>
<li>
<p>The checkout status in RAP (Remote Attendant Program) will display corresponding messages (e.g., "Low media").</p>
</li>
<li>
<p>A <code>requires_intervention = true</code> response means the system will keep checking the status until resolved.</p>
</li>
<li>
<p>The intervention prompt provides guidance for refilling the paper, replacing toner, or resolving other errors.</p>
</li>
</ul>
<h2 id="sending-intervention-with-instructions">Sending intervention with instructions</h2>
<p>To notify the system that a printer issue requires manual intervention, return a structured response with detailed instructions. Below is an example of handling a paper jam intervention:</p>
<h3 id="detailed-instructions">Detailed instructions</h3>
<pre><code class="language-lua">return {
        [&quot;success&quot;] = false, 
        [&quot;error&quot;] = &quot;Empty paper&quot;,
        [&quot;requires_intervention&quot;] = true,
        [&quot;response&quot;] = {
            [&quot;detailed_instructions_data&quot;] = {
                [&quot;images&quot;] = {
                    [1] = &quot;rbxassetid://&quot;,
                    [2] = &quot;rbxassetid://&quot;,
                    [3] = &quot;rbxassetid://&quot;,
                    [4] = &quot;rbxassetid://&quot;,
                },
                [&quot;error_description&quot;] = &quot;Receipt empty&quot;,
                [&quot;error_code&quot;] = &quot;PTRSTAT_REC_EMPTY - 0x00000002&quot;,
                [&quot;error_solution&quot;] = [[
                    1. Unpack the receipt paper.
                    2. Unlock and open the upper cabinet door.
                    3. Click the receipt printer to remove any 
                    excess thermal paper and load a new roll.
                    4. The printer automatically presents and
                    cuts a receipt. A test smiley face should display 
                    on the receipt. A “smiley face” prints on the
                    test receipt to indicate that the thermal coating 
                    is on the side where the thermal print head 
                    is located. When the smiley face prints, the
                    paper is loaded correctly.
                    5. Close and lock the upper cabinet door.
                ]],
                [&quot;status_value&quot;] = {&quot;paper&quot;, &quot;open_cover&quot;},
                [&quot;expected_value&quot;] = {[&quot;paper&quot;] = {&quot;ok&quot;, &quot;warning&quot;}, [&quot;open_cover&quot;] = {&quot;ok&quot;}}
            }
        }
    }
</code></pre>
<h4 id="detailed-response-breakdown">Detailed response breakdown</h4>
<ul>
<li>
<p><code>success = false</code>: Indicates the request failed due to an error.</p>
</li>
<li>
<p><code>error</code>: Describes the issue (e.g., "Paper jam").</p>
</li>
<li>
<p><code>requires_intervention = true</code>: Forces the system into intervention mode.</p>
</li>
<li>
<p><code>detailed_instructions_data</code>:</p>
<p><code>images</code>: List of asset IDs for instructional images (must be exactly 4 or none).</p>
<p><code>error_description</code>: A short explanation of the problem.</p>
<p><code>error_code</code>: A unique identifier for the error.</p>
<p><code>error_solution</code>: Step-by-step instructions to resolve the issue.</p>
<p><code>status_value</code>: The current faulty status in the status table.</p>
<p><code>expected_value</code>: The status value that will indicate the issue is resolved.</p>
</li>
</ul>
<h3 id="generalized-instructions">Generalized instructions</h3>
<pre><code class="language-lua">return {
        [&quot;success&quot;] = false, 
        [&quot;error&quot;] = &quot;Paper jam&quot;,
        [&quot;requires_intervention&quot;] = true,
        [&quot;response&quot;] = {
            [&quot;generalized_instructions_data&quot;] = {
                [&quot;error_description&quot;] = `Paper jam. Open printer, adjust paper and press &quot;continue&quot;.`,
                [&quot;status_value&quot;] = {&quot;paper_jam&quot;, &quot;open_cover&quot;},
                [&quot;expected_value&quot;] = {[&quot;paper_jam&quot;] = {&quot;ok&quot;, &quot;warning&quot;}, [&quot;open_cover&quot;] = {&quot;ok&quot;}}
            }
        }
    }
</code></pre>
<h4 id="generalized-response-breakdown">Generalized response breakdown</h4>
<ul>
<li>
<p><code>success = false</code>: This indicates that the request has failed due to an error.</p>
</li>
<li>
<p><code>error = "Paper jam"</code>: This string describes the specific issue the system is encountering, in this case, a "Paper jam".</p>
</li>
<li>
<p><code>requires_intervention = true</code>: This flag signals that the system needs manual intervention to resolve the issue.</p>
</li>
<li>
<p><code>generalized_instructions_data</code>: This is a container for the essential steps and data related to the error.</p>
<p><code>error_description</code>: A concise explanation of the problem and the action needed to fix it.</p>
<p><code>status_value</code>: This array lists the current faulty statuses that indicate the error and needs to be fixed.</p>
<p><code>expected_value</code>: This defines the statuses that indicate successful resolution of the issue. After resolving the paper jam and closing the cover, the status values should reflect:</p>
<ul>
<li>
<p><code>ok</code> or <code>warning</code> for the <code>paper_jam</code> status (indicating that the issue is cleared or acknowledged),</p>
</li>
<li>
<p><code>ok</code> for the <code>open_cover</code> status (indicating that the cover is closed).</p>
</li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>